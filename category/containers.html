<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>visibilityspots - containers</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/normalize.css">
        <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/main.css">
	<link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/tipuesearch/tipuesearch.css">

    <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/blog.css">
    <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/github.css">
        <link href="https://visibilityspots.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="visibilityspots Atom Feed" />
        <link href="https://visibilityspots.github.io/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="visibilityspots RSS Feed" />
        <script src="https://visibilityspots.github.io/blog/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
    <a id="site-title" href="https://visibilityspots.github.io/blog"><h1>visibilityspots <i class="icon-dashboard"></i></h1></a>
        <p id="site-desc"> Linux & Open-Source enthusiast | Scouting | Longboarding </p>
    </hgroup>
    <form id="searchform" action="https://visibilityspots.github.io/blog/search.html" onsubmit="return (this.elements['q'].value.length > 0)">
	        <input id="searchbox" type="text" name="q" size="12" placeholder="search">
    </form>
    <nav>
        <ul id="nav-links">
                <li><a href="https://visibilityspots.github.io/blog/">Blog</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/profile.html">Profile</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/projects.html">Projects</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/tools.html">Tools</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/contact.html">Contact</a></li>
        </ul>
    </nav>
    Categories:
      <ul>
	<li><a href="https://visibilityspots.github.io/blog/category/android.html">android</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/apple.html">apple</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/automation.html">automation</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/cloud.html">cloud</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/conferences.html">conferences</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/containers.html">containers</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/home-automation.html">home-automation</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/linux.html">linux</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/networking.html">networking</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/other.html">other</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/php.html">php</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/puppet.html">puppet</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/security.html">security</a></li>
      </ul>
<footer id="site-info">
  <a href="http://creativecommons.org/licenses/by-nc/2.0/be/deed.nl">License</a> | 2009 - 2022 <a href="https://visibilityspots.github.io/blog">visibilityspots.github.io/blog</a> | Generated by <a href="http://getpelican.com/" target="pelican">Pelican</a> | Hosted at <a href="https://pages.github.com/" target="github pages">github pages</a> | <a href="https://visibilityspots.github.io/blog/feeds/all.atom.xml" rel="alternate">Atom</a> feed
</footer></header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2020-12-27T21:00:00+01:00" pubdate>
                            Sun 27 December 2020
                        </time>
                        <a href="https://visibilityspots.github.io/blog/traefik-nomad-route53.html" rel="bookmark"><h1>Traefik nomad route53 setup</h1></a>
                    </header>
                    <section class="post-content">
                        <p>I have this <a href="https://nomadproject.io">nomad</a> cluster running on some spare devices for a while now. Serving my <a href="https://visibilityspots.github.io/blog/planespotting.html">plane spotting</a> setup, <a href="https://visibilityspots.github.io/blog/dockerized-cloudflared-pi-hole.html">dns</a> setup, mqtt bridge and some other services I experiment with throughout the years. Until today I've always relied on the ip addresses to point my browser and other services towards the different services. For my DNS setup I even had to pin the jobs towards specific hardware using <a href="https://www.nomadproject.io/docs/configuration/client#custom-metadata-network-speed-and-node-class">meta</a> data.</p>
<p>But I've always wanted to implement a proxy in between so I could rely on DNS names instead. This would also increase the flexibility of my DNS setup since for …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2019-08-28T21:00:00+02:00" pubdate>
                            Wed 28 August 2019
                        </time>
                        <a href="https://visibilityspots.github.io/blog/nomad-arm-cluster.html" rel="bookmark"><h1>Nomad ARM cluster</h1></a>
                    </header>
                    <section class="post-content">
                        <p>as I already mentioned a few times before I have some hands on experiences with <a href="https://nomadproject.io">nomad</a>. A couple of weeks ago I wrote about a <a href="../nomad-local-development.html">local development</a> setup based on nomad.</p>
<p>Since quite some time I do have a thinclient which is running some docker containers through a docker-compose file I use for personal stuff at home. But this thinclient is suffering from all the containers I'm trying to spin up. While over thinking this issue I did realize I have quite some raspberry pi's laying around and figured I could maybe set up a cluster for those containers.</p>
<p>Since …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2019-05-14T19:00:00+02:00" pubdate>
                            Tue 14 May 2019
                        </time>
                        <a href="https://visibilityspots.github.io/blog/nomad-local-development.html" rel="bookmark"><h1>Nomad local development</h1></a>
                    </header>
                    <section class="post-content">
                        <p>Been using <a href="https://www.nomadproject.io/">nomad</a> for a few years now at the customer I got the question couple of weeks ago from some <a href="https://inuits.eu/team/">colleagues</a> if nomad could be used to replace docker-compose.</p>
<p>The reason behind the question is mainly to not vendor lock yourself for local development with the whole docker eco system.</p>
<p>Since I like a certain level of challenge and I do believe it's a valid use case I gave it a try.</p>
<p>This resulted in a <a href="https://github.com/visibilityspots/nomad-local-development">nomad-local-development</a> repository. The 2 major hurdles to take where to use one file like docker-compose.yml and dns resolving between the containers.</p>
<p>The …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2018-06-06T22:00:00+02:00" pubdate>
                            Wed 06 June 2018
                        </time>
                        <a href="https://visibilityspots.github.io/blog/prometheus-export-import.html" rel="bookmark"><h1>Prometheus export/import</h1></a>
                    </header>
                    <section class="post-content">
                        <p>bumping into the case where once deployed a full stack application we don't have any direct connection due to no uplink for security reasons.</p>
<p>So we (you too <a href="https://twitter.com/TomVanHumbeeck">@Tom</a>) looked into a way to export the prometheus data into a tar.gz which could be transferred and imported into an instance on our local machine.</p>
<p>After the initial blog post where we created a tar.gz file from the prometheus storage.tsdb.path on the filesystem <a href="https://twitter.com/roidelapluie">@roidelapluie</a> pointed me out about the <a href="https://prometheus.io/docs/prometheus/latest/querying/api/#snapshot">snapshot</a> feature.</p>
<p>So we did a bit of research and came up with this new procedure.</p>
<p>First of …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2018-06-04T22:00:00+02:00" pubdate>
                            Mon 04 June 2018
                        </time>
                        <a href="https://visibilityspots.github.io/blog/prometheus-consul.html" rel="bookmark"><h1>Prometheus consul service discovery</h1></a>
                    </header>
                    <section class="post-content">
                        <p>as published a few months ago I worked out a <a href="http://localhost:8000/jenkins-docker-pipeline.html">dockerized a jenkins farm</a> where both master as slaves are docker containers working together with services like nexus and such. Next to that setup I've dockerized my home setup where services like pi-hole, home-assistant and others are running as docker containers on a thin client I promoted to my home lab.</p>
<p>To have an overview about all those containers and the resources they are consuming I pulled in the git repo of <a href="https://github.com/vegasbrianc/prometheus">Brian Christner</a> which spins up a whole <a href="https://prometheus.io">prometheus</a> stack with some exporters and a grafana instance to visualize …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2018-04-21T21:00:00+02:00" pubdate>
                            Sat 21 April 2018
                        </time>
                        <a href="https://visibilityspots.github.io/blog/dockerized-cloudflared-pi-hole.html" rel="bookmark"><h1>dockerized DNS over HTTPS using pi-hole through cloudflared proxy-dns</h1></a>
                    </header>
                    <section class="post-content">
                        <p>a few months ago I configured a thin client as my home server to replace the previous <a href="../raspberry-pi.html">raspberry pi</a> setup.</p>
<p>During that migration I moved over all native services within docker containers. One of those services being a <a href="https://pi-hole.net">pi-hole</a> setup to block ad serving domains on dns level and to have a dns cache within our LAN to gain a bit of speed.</p>
<p>It has been running ever since without any issue and worked pretty well.</p>
<p>When cloudflare <a href="https://blog.cloudflare.com/announcing-1111/">announced</a> their fast and privacy based DNS resolver I got a bit intrigued by their DNS over HTTPS feature. Especially since our …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2017-11-09T21:00:00+01:00" pubdate>
                            Thu 09 November 2017
                        </time>
                        <a href="https://visibilityspots.github.io/blog/test-ansible-playbooks.html" rel="bookmark"><h1>Test ansible playbooks with docker</h1></a>
                    </header>
                    <section class="post-content">
                        <p>recently I started working at a new project where the infra is maintained by ansible. When been asked to write some functionality in a playbook I missed my <a href="https://github.com/visibilityspots/vagrant-puppet">vagrant puppet</a> setup where I could easily test my puppet code on my local machine.</p>
<p>Due to my previous project I felt like maybe I could use docker for this purpose on the ansible part. So I looked a bit around and stumbled on the <a href="https://github.com/William-Yeh/docker-ansible">docker-ansible github repository</a> of William Yeh. He already did a great job by creating a docker container with ansible preinstalled for a lot of linux distributions.</p>
<p>I …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2017-10-30T19:00:00+01:00" pubdate>
                            Mon 30 October 2017
                        </time>
                        <a href="https://visibilityspots.github.io/blog/jenkins-docker-pipeline.html" rel="bookmark"><h1>Jenkins docker-pipeline</h1></a>
                    </header>
                    <section class="post-content">
                        <p>in a previous blog post I talked about setting up a <a href="https://visibilityspots.github.io/blog/dockerized-jenkins.html">dockerized jenkins master/slave setup</a> and setting up a <a href="https://visibilityspots.github.io/blog/nexus-oss-repository-manager.html">private docker registry using nexus</a>.</p>
<p>The next thing on the roadmap was to use this jenkins setup to actually build new docker images for specific software. Before going to the different teams and talking how they now build their software and how this could be done using this new containerized setup I setted up a new jenkins job.</p>
<p>This jenkins job will build a generic jenkins slave docker container which will be used by the jenkins master to build some …</p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2017-09-11T19:00:00+02:00" pubdate>
                            Mon 11 September 2017
                        </time>
                        <a href="https://visibilityspots.github.io/blog/nexus-oss-repository-manager.html" rel="bookmark"><h1>Nexus OSS repository manager</h1></a>
                    </header>
                    <section class="post-content">
                        <p>looking for a global repository store which could store maven projects, yum repositories, docker repositories, we bumped into <a href="https://help.sonatype.com/display/NXRM3/Repository+Manager+3">Nexus repository manager</a>. We used the official docker image to see how it can be implemented in the dockerized CI environment.</p>
<h2>docker repository</h2>
<p>as a first the docker repository feature could be enabled so we can start building and storing docker images for the different jenkins build slaves and the jenkins master so our work is reproducible and stored in a safe central place.</p>
<p>We configured 3 repositories in nexus for our docker images seen as a recommended approach in the <a href="https://help.sonatype.com/display/NXRM3/Private+Registry+for+Docker#PrivateRegistryforDocker-HostedRepositoryforDocker(PrivateRegistryforDocker)">nexus …</a></p>
                    </section>
                </article>
            </li>
            <hr/>
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2017-09-06T22:00:00+02:00" pubdate>
                            Wed 06 September 2017
                        </time>
                        <a href="https://visibilityspots.github.io/blog/dockerized-jenkins.html" rel="bookmark"><h1>Dockerized jenkins master/slave setup</h1></a>
                    </header>
                    <section class="post-content">
                        <p>started at a new customer we were looking for a more flexible way of having jenkins spinning up slaves on the fly. This in a way a slave is only started and consuming resources when a specific job is running. That way those resources could be used more efficient.</p>
<p>Also the fact that developers could take control over their build servers by managing the Dockerfiles themselves is a great advantage too. But that's for a later phase. Let's start at the beginning.</p>
<p>For the docker host a CentOS 7 server has been provisioned and prepared to run the docker daemon …</p>
                    </section>
                </article>
            </li>
            <hr/>
        </ol>
        <div class="paginator">
            Page 1 / 2
                <a href="https://visibilityspots.github.io/blog/category/containers2.html">
                    <i class="icon-circle-arrow-right"></i>
                </a>
        </div>

    </div>
        </div>

        <script src="https://visibilityspots.github.io/blog/theme/js/main.js"></script>
    </body>
</html>