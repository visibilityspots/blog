<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    Conky-colors
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/normalize.css">
        <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/main.css">
	<link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/tipuesearch/tipuesearch.css">

    <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/blog.css">
    <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/github.css">
        <link href="https://visibilityspots.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="visibilityspots Atom Feed" />
        <link href="https://visibilityspots.github.io/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="visibilityspots RSS Feed" />
        <script src="https://visibilityspots.github.io/blog/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
    <a id="site-title" href="https://visibilityspots.github.io/blog"><h1>visibilityspots <i class="icon-dashboard"></i></h1></a>
        <p id="site-desc"> Linux & Open-Source enthusiast | Scouting | Longboarding </p>
    </hgroup>
    <form id="searchform" action="https://visibilityspots.github.io/blog/search.html" onsubmit="return (this.elements['q'].value.length > 0)">
	        <input id="searchbox" type="text" name="q" size="12" placeholder="search">
    </form>
    <nav>
        <ul id="nav-links">
                <li><a href="https://visibilityspots.github.io/blog/">Blog</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/profile.html">Profile</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/projects.html">Projects</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/tools.html">Tools</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/contact.html">Contact</a></li>
        </ul>
    </nav>
    Categories:
      <ul>
	<li><a href="https://visibilityspots.github.io/blog/category/android.html">android</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/apple.html">apple</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/automation.html">automation</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/cloud.html">cloud</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/conferences.html">conferences</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/containers.html">containers</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/home-automation.html">home-automation</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/linux.html">linux</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/networking.html">networking</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/other.html">other</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/php.html">php</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/puppet.html">puppet</a></li>
	<li><a href="https://visibilityspots.github.io/blog/category/security.html">security</a></li>
      </ul>
<footer id="site-info">
  <a href="http://creativecommons.org/licenses/by-nc/2.0/be/deed.nl">License</a> | 2009 - 2022 <a href="https://visibilityspots.github.io/blog">visibilityspots.github.io/blog</a> | Generated by <a href="http://getpelican.com/" target="pelican">Pelican</a> | Hosted at <a href="https://pages.github.com/" target="github pages">github pages</a> | <a href="https://visibilityspots.github.io/blog/feeds/all.atom.xml" rel="alternate">Atom</a> feed
</footer></header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <a href="https://visibilityspots.github.io/blog/conky-colors.html" rel="bookmark"><h1>Conky-colors</h1></a>
<div><p>takes 3 minutes to read</p></div>                        <time class="post-time" datetime="2013-05-20T00:00:00+02:00" pubdate>
                            last modified at Mon 20 May 2013
                        </time>
                    </header>
                    <section class="post-content">
                        <p>Back in the days I once wrote a <a class="reference external" href="http://www.visibilityspots.com/conky.html">blogpost</a> about a <a class="reference external" href="http://conky.sourceforge.net">conky</a> setup on a Ubuntu desktop. In the meantime I'm not using ubuntu anymore and kinda tweaked my whole conky setup. I switched to fedora 18 and using <a class="reference external" href="http://helmuthdu.deviantart.com/art/CONKY-COLORS-244793180">conky-colors</a> those days in front of the <a class="reference external" href="http://www.nongnu.org/ratpoison/">ratpoison</a> window manager.</p>
<p>This post will go trough all the steps I did to came to the actual result. When something isn't clear, or could be done on a more smoother/better way, please feel free to bug me about it!</p>
<p>Installing some required packages before actually compiling the conky-colors source:</p>
<pre class="literal-block">
$ sudo yum install hddtemp curl lm-sensors conky
</pre>
<p>Next thing is to scan your local machine for all available sensors (answering yes on all questions):</p>
<pre class="literal-block">
$ sudo sensors-detect
</pre>
<p>Once the pre requirements are successfully installed on your system we can start compiling the <a class="reference external" href="http://www.deviantart.com/download/244793180/conky_colors_by_helmuthdu-d41qrmk.zip?token=f47492fbd545e0ff90c83169ec04f24615aceb11&amp;ts=1368796616">source</a> of conky colors:</p>
<pre class="literal-block">
$ cd into/unzipped/source/directory
$ make
$ sudo make install
</pre>
<p>Once that is done we can start by actually generating your desired conky setup. I based my setup on the SLIM theme and adopted it afterwards. Your custom weather code is based on the <a class="reference external" href="http://edg3.co.uk/snippets/weather-location-codes/">yahoo</a> service.</p>
<pre class="literal-block">
$ conky-colors --slim --w=1440 --h=900 --theme=white --weather=brxx0043
</pre>
<p>Two important files will be generated by this command. One will be located in your homedir and should be named like ~/.conkycolors/conkyrc. This is the config file we need to call when actually starting the conky daemon afterwards. Some configuration parameters to your specific layout can be adopted.</p>
<a class="reference external image-reference" href="images/conky-colors/initialSlim.png"><img alt="Initial conky slim view" src="images/conky-colors/initialSlim.png" /></a>
<p>I changed some of those params in the <a class="reference external" href="http://www.visibilityspots.com/documents/conky-colors/conkyrc">conkyrc</a> file, so the conky bar is located at the bottom om my screen (dell latitude E6530) with yellow colors and a border around it.</p>
<a class="reference external image-reference" href="images/conky-colors/initialCustom.png"><img alt="Changed color scheme to yellow view" src="images/conky-colors/initialCustom.png" /></a>
<pre class="literal-block">
own_window_type override

alignment bottom_left
gap_x 5
gap_y 5
minimum_size 1910 80
maximum_width 1910 80

draw_borders yes

color0 white
color1 CE5C00
color2 white
color3 CE5C00
</pre>
<p>The command to run the conky daemon:</p>
<pre class="literal-block">
$ conky -c ~/.conkyrc
$ CTRL-C to stop the job

# Move the conky job in the background
$ conky -c ~/.conkyrc &amp;
</pre>
<p>We now should have a standard conky-colors theme running. But it wasn't sufficient for me. I kinda tweaked the whole setup and added some additional features:</p>
<a class="reference external image-reference" href="images/conky-colors/customizedSlim.png"><img alt="Customized view" src="images/conky-colors/customizedSlim.png" /></a>
<p>All those tweaks were added to the <a class="reference external" href="http://www.visibilityspots.com/documents/conky-colors/conkySlim-MainSection.lua">conkySlim.lua</a> file:</p>
<pre class="literal-block">
$ sudo vim /usr/share/conkycolors/scripts/conkySlim.lua
</pre>
<p>The fist tweak is the linux logo at the beginning of the conky screen (using the OpenLogos font):</p>
<pre class="literal-block">
--LOGO COLUMN
settings = {--VARIA
        txt='Z',
        x=50             , y=95          ,
        txt_weight=0        , txt_size=100 ,
        txt_fg_colour=theme , txt_fg_alpha=fga ,
        font=&quot;OpenLogos&quot;
};display_text(settings)
</pre>
<p>The second tweak is about the 2nd column in the conky output. I'll start with the uptime and update config which are quite straightforward:</p>
<pre class="literal-block">
--SECOND COLUMN
settings = {--UPTIME TITLE
    txt=conky_parse(&quot;Uptime: &quot;),
    x=100               , y=20            ,
    txt_weight=0        , txt_size=12 ,
    txt_fg_colour=theme , txt_fg_alpha=fga    ,
};display_text(settings)

settings = {--UPTIME TITLE
    txt=conky_parse(&quot;${uptime}&quot;),
    x=160               , y=20            ,
    txt_weight=1        , txt_size=12 ,
    txt_fg_colour=theme , txt_fg_alpha=fga    ,
};display_text(settings)


settings = {--UPDATES TITLE
    txt=conky_parse(&quot;Updates: &quot;),
    x=100               , y=35           ,
    txt_weight=0        , txt_size=12 ,
    txt_fg_colour=fgc , txt_fg_alpha=fga    ,
};display_text(settings)

updates = conky_parse(&quot;${execi 360 yum -e0 -d0 check-update | wc -l}&quot;)

if updates &gt; '9' then
    color = theme
    weight = '1'
    message = 'available'
    xAs = '175'
elseif updates &gt; '0' then
    color = theme
    weight = '1'
    message = 'available'
    xAs = '180'
else
    color = fgc
    weight = '0'
    message = ''
    xAs = '175'
end
settings = {--# UPDATES
    txt=updates,
    x=160               , y=35           ,
    txt_weight=weight        , txt_size=12 ,
    txt_fg_colour=color , txt_fg_alpha=fga    ,
};display_text(settings)

settings = {--UPDATES MESSAGE
    txt=message,
    x=xAs      , y=35           ,
    txt_weight=0        , txt_size=12 ,
    txt_fg_colour=fgc , txt_fg_alpha=fga    ,
};display_text(settings)
</pre>
<p>Following with my own <a class="reference external" href="http://www.irssi.org">irssi</a> status based on an html file which is generated on the server where the irssi daemon is running using the irssi script <a class="reference external" href="http://scripts.irssi.org/scripts/away2web.pl">away2web</a>. The username and password in this example are needed for basic htaccess authentication:</p>
<pre class="literal-block">
irssiState= conky_parse(&quot;${exec curl --user USERNAME:PASSWORD https://URLTOGENERATEDAWAY2WEBFILE/status.html -k -s | head -1}&quot;)

if irssiState == '1' then
    color = theme
    message = ''
    state = 'Online'
else
    color = theme
    message = conky_parse(&quot;${exec curl --user USERNAME:PASSWORD https://URLTOGENERATEDAWAY2WEBFILE/status.html -k -s | tail -1}&quot;)
    state = 'Offline '
end

settings = {--IRSSI TITLE
    txt='Irssi:',
    x=100             , y=51          ,
    txt_weight=0        , txt_size=12 ,
    txt_fg_colour=theme , txt_fg_alpha=fga ,
};display_text(settings)

settings = {--IRSSI STATE
    txt=state,
    x=160             , y=51          ,
    txt_weight=1        , txt_size=12 ,
    txt_fg_colour=color , txt_fg_alpha=fga ,
};display_text(settings)

settings = {--IRSSI MESSAGE
    txt=message,
    x=207             , y=51          ,
    txt_weight=0        , txt_size=10 ,
    txt_fg_colour=theme , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>And as last informational message in this column a minimal overview of your infrastructure based on an <a class="reference external" href="http://www.icinga.org">icinga</a> instance based on a <a class="reference external" href="https://github.com/visibilityspots/scripts#conky-icingash">conky-icinga</a> bash script:</p>
<pre class="literal-block">
--ICINGA STATE
IcingaState=conky_parse(&quot;${execpi 53 PATH/TO/conky-icinga.sh}&quot;)
if IcingaState == 'OK' then
    color = fgc
elseif IcingaState == 'WARN' then
    color = fgc
else
    color = fgc
end

settings = {--ICINGA TITLE
    txt='Icinga:',
    x=100             , y=80          ,
    txt_weight=0        , txt_size=12 ,
    txt_fg_colour=fgc , txt_fg_alpha=fga ,
};display_text(settings)

settings = {--ICINGA STATE
    txt=IcingaState,
    x=160             , y=80          ,
    txt_weight=1        , txt_size=12 ,
    txt_fg_colour=color , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>As you can see in the middle section I added a counter for incoming mails based on my maildir folders:</p>
<pre class="literal-block">
    settings = {--MAILS
    txt=conky_parse(&quot;Inuits: ${new_mails PATH/TO/MAILDIR}&quot;),
    x=(w/2)-160             , y=65          ,
    txt_weight=0        , txt_size=12 ,
    txt_fg_colour=fgc , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>Depending if the spotify service is running conky will display the 'Now playing song - artist':</p>
<pre class="literal-block">
settings = {--SPOTIFY MUSIC SYMBOL
    txt=conky_parse(&quot;${if_running spotify}z${endif}&quot;),
    x=(w/2)+60             , y=83          ,
    txt_weight=0        , txt_size=10 ,
    txt_fg_colour=theme , txt_fg_alpha=fga ,
    font=&quot;musicelements&quot;
};display_text(settings)

settings = {--SPOTIFY
    txt=conky_parse(&quot;${if_running spotify}${exec sudo spotify-nowplaying}${endif}&quot;),
    x=(w/2)+67             , y=83          ,
    txt_weight=0        , txt_size=10 ,
    txt_fg_colour=theme , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>The same counts for <a class="reference external" href="http://cmus.sourceforge.net/">cmus</a> a command line music player which will show 'Now playing song - artist when active' using a very basic <a class="reference external" href="https://github.com/visibilityspots/scripts#cmussh">script</a></p>
<pre class="literal-block">
settings = {--CMUS MUSIC SYMBOL
    txt=conky_parse(&quot;${if_running cmus}z${endif}&quot;),
    x=(w/2)+60             , y=83          ,
    txt_weight=0        , txt_size=10 ,
    txt_fg_colour=theme , txt_fg_alpha=fga ,
    font=&quot;musicelements&quot;
};display_text(settings)

settings = {--CMUS
    txt=conky_parse(&quot;${if_running cmus}${execi 2 ~/PATH/TO/cmus.sh}${endif}&quot;),
    x=(w/2)+67             , y=83          ,
    txt_weight=0        , txt_size=10 ,
    txt_fg_colour=theme , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>4 cpu's will be used to draw the CPU graphics and showing the load of the local machine:</p>
<pre class="literal-block">
settings = {--CPU GRAPH CPU1
        value=tonumber(conky_parse(&quot;${cpu cpu1}&quot;)),
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=22            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=35              ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=28       ,
        graduation_thickness=0     , graduation_mark_thickness=1 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.3     ,
        caption='CPU'              ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)

settings = {--CPU GRAPH CPU2
        value=tonumber(conky_parse(&quot;${cpu cpu2}&quot;)) ,
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=17            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=9               ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=28       ,
        graduation_thickness=0     , graduation_mark_thickness=1 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.3     ,
        caption=''                 ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)

settings = {--CPU GRAPH CPU3
        value=tonumber(conky_parse(&quot;${cpu cpu3}&quot;)) ,
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=17            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=0               ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=28       ,
        graduation_thickness=0     , graduation_mark_thickness=1 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.3     ,
        caption=''                 ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)

settings = {--CPU GRAPH CPU4
        value=tonumber(conky_parse(&quot;${cpu cpu4}&quot;)) ,
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=17            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=-9              ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=28       ,
        graduation_thickness=0     , graduation_mark_thickness=1 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.3     ,
        caption=''                 ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)

settings = {--LOAD
        txt=conky_parse(&quot;${loadavg}&quot;),
        x=xp+10             , y=yp+38,
        txt_weight=0        , txt_size=10 ,
        txt_fg_colour=theme , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>I also added a additional graph for the temperature based on acpi:</p>
<pre class="literal-block">
settings = {--TEMP GRAPH
        value=tonumber(conky_parse(&quot;${acpitemp}&quot;)),
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=22            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=0               ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=22       ,
        graduation_thickness=4     , graduation_mark_thickness=2 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.5     ,
        caption='TEMP'              ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)
</pre>
<p>I'm moving around a lot, connecting to wifi or wired depending on location. To let conky graph the right interface I wrote a wrapper around that:</p>
<pre class="literal-block">
iface = conky_parse(&quot;${exec ip n | awk {'print $3'} | head -1}&quot;)
if iface == 'em1' then
        ifaceCaption = 'EM1'
else
        ifaceCaption = 'WLAN0'
end

settings = {--NETWORK GRAPH UP
        value=tonumber(conky_parse(&quot;${upspeedf &quot; .. iface .. &quot;}&quot;)),
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=17            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=0               ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=28       ,
        graduation_thickness=0     , graduation_mark_thickness=1 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.3     ,
        caption=''                 ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)

settings = {--NETWORK GRAPH DOWN
        value=tonumber(conky_parse(&quot;${downspeedf &quot; .. iface .. &quot;}&quot;)),
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=22            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=35              ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=28       ,
        graduation_thickness=0     , graduation_mark_thickness=1 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.3     ,
        caption=ifaceCaption              ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)
</pre>
<p>Depending on those locations I get other ip addresses on other networks and therefore other SMTP services. To tackle those smtp service I wrote a <a class="reference external" href="https://github.com/visibilityspots/scripts#setsmtpsh">setsmtp</a> script which will be called from within my conky setup based on the ip addresses:</p>
<pre class="literal-block">
if iface =='em1' then
        ip = conky_parse(&quot;${addr em1}&quot;)
        if ip == 'IP AT WORK PLACE ONE' then
           conky_parse(&quot;${exec setsmtp -b}&quot;)
           todo='work'
        elseif ip == 'IP AT WORK PLACE TO' then
           todo='work'
        else
           conky_parse(&quot;${exec setsmtp -t}&quot;)
           todo='personal'
        end

        settings = {--IP ADDRESS
                txt=ip,
                x=xp+10             , y=83,
                txt_weight=0        , txt_size=10 ,
                txt_fg_colour=theme , txt_fg_alpha=fga ,
        };display_text(settings)

elseif iface == 'wlan0' then

        ssid = conky_parse(&quot;${wireless_essid wlan0}&quot;)
        if ssid == 'SSID WORK PLACE ONE' then
           conky_parse(&quot;${exec setsmtp -b}&quot;)
           todo='work'
        elseif ssid == 'SSID HOME' then
           conky_parse(&quot;${exec shares -a}&quot;)
           conky_parse(&quot;${exec setsmtp -t}&quot;)
           todo='personal'
        else
           conky_parse(&quot;${exec setsmtp -t}&quot;)
           todo='personal'
        end

        settings = {--WIRELESS INFO
                txt=conky_parse(&quot;${wireless_link_qual wlan0} %&quot;),
                x=xp+10             , y=83,
                txt_weight=1        , txt_size=10 ,
                txt_fg_colour=theme , txt_fg_alpha=fga ,
        };display_text(settings)

else
        iface=''
end
</pre>
<p>To monitor my battery state I added this graph:</p>
<pre class="literal-block">
settings = {--BATTERY GRAPH
        value=tonumber(conky_parse(&quot;${battery_percent}&quot;)),
        value_max=100              ,
        x=xp                       , y=yp                        ,
        graph_radius=22            ,
        graph_thickness=5          ,
        graph_start_angle=180      ,
        graph_unit_angle=2.7       , graph_unit_thickness=2.7    ,
        graph_bg_colour=bgc        , graph_bg_alpha=bga          ,
        graph_fg_colour=theme      , graph_fg_alpha=fga          ,
        hand_fg_colour=theme       , hand_fg_alpha=0.0           ,
        txt_radius=0               ,
        txt_weight=1               , txt_size=8.0                ,
        txt_fg_colour=fgc          , txt_fg_alpha=fga            ,
        graduation_radius=22       ,
        graduation_thickness=4     , graduation_mark_thickness=2 ,
        graduation_unit_angle=27   ,
        graduation_fg_colour=theme , graduation_fg_alpha=0.5     ,
        caption='BATTERY'              ,
        caption_weight=1           , caption_size=10.0           ,
        caption_fg_colour=fgc      , caption_fg_alpha=fga        ,
};draw_gauge_ring(settings)

settings = {--BATTERY CHARGING STATE
        txt=conky_parse(&quot;${acpiacadapter} ${battery_time}&quot;),
        x=xp-25             , y=83,
        txt_weight=0        , txt_size=10 ,
        txt_fg_colour=theme , txt_fg_alpha=fga ,
};display_text(settings)
</pre>
<p>As you saw in the network topic I set a todo variable based on my location. That variable will point to a specific tracks-work/tracks-personal <a class="reference external" href="https://github.com/visibilityspots/scripts#conky-trackssh">bash script</a> which will grab my todo's for work or for leisure ;)</p>
<pre class="literal-block">
-- TODO COLUMN
conky_parse(&quot;${execpi 53 ~/.conky/scripts/tracks-&quot; .. todo .. &quot;.sh}&quot;)
arrayYfactors={'20', '35', '51', '65'}

for i, Yfactor in ipairs(arrayYfactors) do
        firstchar=conky_parse(&quot;${exec head -&quot; .. i .. &quot; ~/.conky/scripts/todo-&quot; .. todo .. &quot; | tail -1 | sed -r 's/^  //' | cut -d ' ' -f 1}&quot;)
        if firstchar == '*' then
                tmpweight='0'
                tmpcolour=fgc
        elseif firstchar == '-' then
                tmpweight='0'
                tmpcolour=fgc
        else
                tmpweight='1'
                tmpcolour=theme
        end

        settings = { --TODO column
                txt=conky_parse(&quot;${exec head -&quot; .. i .. &quot; ~/.conky/scripts/todo-&quot; .. todo .. &quot; | tail -1 | sed -r 's/^  //' | cut -d '(' -f 1}&quot;),
                x=xp+80             , y=Yfactor,
                txt_weight=tmpweight        , txt_size=12,
                txt_fg_colour=tmpcolour , txt_fg_alpha=fga ,
        };display_text(settings)
end
</pre>
<p>And last but not least based on location I monitor also a specific <a class="reference external" href="http://jenkins-ci.org/">jenkins</a> job using the <a class="reference external" href="https://github.com/Ronnie76er/conkyhudson">conky hudson</a> script</p>
<pre class="literal-block">
settings = { --JENKINS TITLE
          txt=conky_parse(&quot;${exec ~/.conky/scripts/hudson/conkyhudson.py -t ~/.conky/scripts/hudson/&quot; .. todo .. &quot;.template | cut -d '|' -f 1 | head -1}&quot;),
          x=xp+80             , y=80,
          txt_weight=1       , txt_size=9,
          txt_fg_colour=theme , txt_fg_alpha=fga ,
  };display_text(settings)

  settings = { --JENKINS line
          txt=conky_parse(&quot;${exec ~/.conky/scripts/hudson/conkyhudson.py -t ~/.conky/scripts/hudson/&quot; .. todo .. &quot;.template | cut -d '|' -f 2 | sed 's/_/ /' | head -1}&quot;),
          x=xp+178             , y=80,
          txt_weight=0        , txt_size=10,
          txt_fg_colour=fgc , txt_fg_alpha=fga ,
  };display_text(settings)
</pre>
<p>The conky hudson template used in this last feature is looking like:</p>
<pre class="literal-block">
[job;1;jenkinsurl.com;nameofyourjenkinsjob]
nameofyourjenkinsjob|#[1;number] [1;result] [1;id]
</pre>

                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="https://visibilityspots.github.io/blog/category/linux.html">linux</a></p>
                        <p>Tags: <a href="https://visibilityspots.github.io/blog/tag/conky.html">conky</a>, <a href="https://visibilityspots.github.io/blog/tag/conky-colors.html">conky-colors</a>, <a href="https://visibilityspots.github.io/blog/tag/fedora.html">fedora</a>, <a href="https://visibilityspots.github.io/blog/tag/desktop.html">desktop</a>, </p>
                    </aside>
                    <hr/>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'visibilityspots';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
                </article>
            </li>
        </ol>
    </div>
        </div>

        <script src="https://visibilityspots.github.io/blog/theme/js/main.js"></script>
    </body>
</html>