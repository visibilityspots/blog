<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    Taskwarrior
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/normalize.css">
        <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/main.css">

    <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/blog.css">
    <link rel="stylesheet" href="https://visibilityspots.github.io/blog/theme/css/github.css">
        <link href="https://visibilityspots.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="visibilityspots Atom Feed" />
        <link href="https://visibilityspots.github.io/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="visibilityspots RSS Feed" />
        <script src="https://visibilityspots.github.io/blog/theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
    <a id="site-title" href="https://visibilityspots.github.io/blog"><h1>visibilityspots <i class="icon-dashboard"></i></h1></a>
        <p id="site-desc"> Linux & Open-Source enthusiast | Scouting | Longboarding </p>
    </hgroup>

    <nav>
        <ul id="nav-links">
                <li><a href="https://visibilityspots.github.io/blog/">Blog</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/profile.html">Profile</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/projects.html">Projects</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/tools.html">Tools</a></li>
                <li><a href="https://visibilityspots.github.io/blog/pages/contact.html">Contact</a></li>
        </ul>
    </nav>
    Categories:
      <ul>
        <li><a href="https://visibilityspots.github.io/blog/category/android.html">android</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/apple.html">apple</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/automation.html">automation</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/cloud.html">cloud</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/conferences.html">conferences</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/containers.html">containers</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/home-automation.html">home-automation</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/linux.html">linux</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/networking.html">networking</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/other.html">other</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/php.html">php</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/puppet.html">puppet</a></li>
        <li><a href="https://visibilityspots.github.io/blog/category/security.html">security</a></li>
      </ul>
<footer id="site-info">
  <a href="http://creativecommons.org/licenses/by-nc/2.0/be/deed.nl">License</a> | 2009 - 2025 <a href="https://visibilityspots.github.io/blog">visibilityspots.github.io/blog</a> | Generated by <a href="http://getpelican.com/" target="pelican">Pelican</a> | Hosted at <a href="https://pages.github.com/" target="github pages">github pages</a> | <a href="https://visibilityspots.github.io/blog/feeds/all.atom.xml" rel="alternate">Atom</a> feed
</footer></header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <a href="https://visibilityspots.github.io/blog/taskwarrior.html" rel="bookmark"><h1>Taskwarrior</h1></a>
<div><p>takes 1 minute to read</p></div>                        <time class="post-time" datetime="2013-09-30T21:45:00+02:00" pubdate>
                            last modified at Mon 30 September 2013
                        </time>
                    </header>
                    <section class="post-content">
                        <p>I've used a lot's of tools to get a grip on my todo lists for work, for the scouting movement, for technical projects, household, etc. Started by using pen and paper, switched to a little notebook (which I still use for short-term tasks) to start using software to organize them.</p>
<p>I've used evernote, gtasks, tracks, github issues, gitlab issues, redmine tickets, in short plenty passed by only <a class="reference external" href="http://www.visibilityspots.com/tracks.html">tracks</a> survived. I still use it for my work related projects, everyday at 8:30AM I get my list of tasks for that day. That way I have some sort of control on my projects.</p>
<p>Nevertheless there was still some sort of missing feature, an integration with the other issue trackers I use like github and redmine for example. I dreamed of one central overview of all my tasks/issues/projects. And some weeks ago I just stumbled into the solution of that dream, <a class="reference external" href="http://taskwarrior.org">taskwarrior</a> will organize my life from now on.</p>
<p>It's a nifty command line based piece of software with all the features I needed, due dates, projects, tags, customized reports, etc. I completely get enthusiastic when finding out the <a class="reference external" href="https://github.com/ralphbean/bugwarrior">bugwarrior</a> module from Ralph Bean which let you to import tasks from many different services like github, redmine &amp; trac.</p>
<p>So I started on this new project by adding a new task to my tracks instance: &quot;Migrate to taskwarrior&quot;.</p>
<p>Installation of the <a class="reference external" href="http://taskwarrior.org/projects/taskwarrior/wiki/Download">task service</a></p>
<pre class="code bash literal-block">
<span class="c1"># yum install task</span>
</pre>
<p>By following the <a class="reference external" href="http://taskwarrior.org/projects/taskwarrior/wiki/30-second_Tutorial">30 sec tutorial</a> you get an idea of the basics, but for a full experience and howto I recommend reading the full <a class="reference external" href="http://taskwarrior.org/projects/taskwarrior/wiki/Tutorial">tutorial</a>. I created a dedicated user for managing my todo list on my CentOS 6.4 machine.</p>
<p>Configuration of the task service is done in the ~/.taskrc file where you can change the data &amp; log files locations, setting a theme a other configuration parameters.</p>
<p>Installation of <a class="reference external" href="http://theunraveler.github.io/taskwarrior-web/">task-web</a>, a nice and clear frontend (make sure to use ruby 1.9.3, I had performance issues when using ruby 2.0.0):</p>
<pre class="code bash literal-block">
<span class="c1"># gem install taskwarrior-web thin
</span>$<span class="w"> </span>task-web<span class="w"> </span>-s<span class="w"> </span>thin<span class="w"> </span>-L<span class="w"> </span><span class="p">&amp;</span>
</pre>
<p>I added the task-web.user &amp; task-web.passwd parameters to my ~/.taskrc file for basic http authentication, and opted for the thin webserver rather than the default webrick when using the task-web frontend. Once you've stared the service your instance should be accessible on <a class="reference external" href="http://your.ip.of.the.server:5678">http://your.ip.of.the.server:5678</a> in your web browser. (make sure to open the port in your servers firewall)</p>
<p>You can choose your own port by adding the option -p XXX in your command (task-web -s thin -p XXX -L &amp;). All the options are listed in the help menu (task-web --help).</p>
<p>Installation of <a class="reference external" href="https://github.com/ralphbean/bugwarrior">bugwarrior</a>:</p>
<p>As mentioned before the biggest advantage of using taskwarrior to me is the import feature of some several third party services. It's easy to install by using the <a class="reference external" href="http://www.pip-installer.org/en/latest/">pip installer</a>:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>bugwarrior
</pre>
<p>After that you can configure the ~/.bugwarriorrc file to your needs. After some struggling I got it working with the great help of the developer Ralph Bean.</p>
<p>Example of my ~/.bugwarriorrc file:</p>
<pre class="literal-block">
[general]
targets = github, redmine
log.level = INFO
log.file = /var/log/tasks/bugwarrior.log
bitly.api_user = USERNAME
bitly.api_key = API-KEY
multiprocessing = True

[notifications]
notifications = False

[github]
service = github
username = USERNAME
default_priority = M
login = USERNAME
passw = PASSWORD

[redmine]
service = redmine
url = https://redmine.url
key = REDMINE-API-KEY
user_id = NUMERIC-USER-ID
project_name = NAME-OF-THE-PROJECT-TASK-WILL-GET-ON-IMPORT
</pre>
<p>Once configured you can run the server and check the log's:</p>
<pre class="code bash literal-block">
$<span class="w"> </span>bugwarrior-pull<span class="w">
</span>$<span class="w"> </span>cat<span class="w"> </span>/var/log/tasks/bugwarrior.log<span class="w">
</span>$<span class="w"> </span>task<span class="w"> </span>list
</pre>
<p>Once you initialized the import you can create a cronjob for it:</p>
<pre class="literal-block">
$ crontab -e
# Bugwarrior import
30 5 * * * /usr/bin/bugwarrior-pull
</pre>
<p>That way every day at 5:30AM the tasks from 3Th party services will be imported.</p>
<p>The only feature I'm still missing is a 2 way synchronization. So I can edit the tasks in taskwarrior too, but that's something for utopia :)</p>
<p>Conky monitoring:</p>
<p>Is a already wrote about before I'm using <a class="reference external" href="http://www.visibilityspots.com/conky-colors.html">conky</a> as a dashboard together with my ratpoison setup. I already wrote a script to fetch my <a class="reference external" href="https://github.com/visibilityspots/scripts#conky-trackssh">tracks issues</a>. But now I need to fetch my task list from taskwarrior. So I created a custom task report configured in my ~/.taskrc file:</p>
<pre class="literal-block">
# Custom reports
report.conky.description=Conky report
report.conky.columns=project,description.truncated,depends.indicator,priority
report.conky.labels=Project,Desc,D,P
report.conky.sort=due+,project+,priority+
report.conky.filter=status:pending limit:page
</pre>
<p>Using a ssh connection you can then fetch the output from the command 'task conky' and parse it into a file using a bash script.</p>
<p>Because all my project definitions containing a hyphen I can parse them so I can grep titles and create new lines so I can parse them using the conky syntax.</p>
<!-- code ::bash

#!/bin/bash
ssh username@taskwarrior.server "task conky | head -7 | tail -4 | sed 's/^*[A-Z]*-[A-Z]*/&\n-/g' | sed -e 's/^- [ \t]*/ - /g' | sed 's/^/ /g' | head -4" -->
<p>I do still have 2 things I need to investigate time into:</p>
<p>Mail weekly tasks</p>
<p>Using <a class="reference external" href="http://pypi.python.org/pypi/taskreport/">taskreport</a> but I got some errors after installing using 'pip install taskreport':</p>
<pre class="literal-block">
$ taskreport
File &quot;/usr/bin/taskreport&quot;, line 51
      for key in ['userName', 'server', 'port']}
        ^
SyntaxError: invalid syntax
</pre>
<p>Installation of <a class="reference external" href="http://mirakel.azapps.de/taskwarrior.html">taskd</a> server (for synchronization with mirakel):</p>
<p>Until today the <a class="reference external" href="http://mirakel.azapps.de">mirakel</a> app always crashes when trying to sync after initialized with the created key.</p>
<pre class="code bash literal-block">
<span class="c1"># git clone git://tasktools.org/taskd.git
# wget http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm
# rpm -Uvh rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm
# yum install cmake28
# yum install gnutls-devel
# yum install libuuid-devel
# cmake28 .
# make
# make install
</span><span class="w">
</span><span class="c1"># yum install gnutls-utils
# find and replace gnutls-certtool with certtool
# cd pki
# ./generate
</span><span class="w">
</span><span class="c1"># add_user.sh script</span>
</pre>

                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="https://visibilityspots.github.io/blog/category/linux.html">linux</a></p>
                        <p>Tags: <a href="https://visibilityspots.github.io/blog/tag/inuits.html">inuits</a>, <a href="https://visibilityspots.github.io/blog/tag/tasks.html">tasks</a>, <a href="https://visibilityspots.github.io/blog/tag/task.html">task</a>, <a href="https://visibilityspots.github.io/blog/tag/taskwarrior.html">taskwarrior</a>, <a href="https://visibilityspots.github.io/blog/tag/centos.html">centos</a>, <a href="https://visibilityspots.github.io/blog/tag/command.html">command</a>, <a href="https://visibilityspots.github.io/blog/tag/line.html">line</a>, <a href="https://visibilityspots.github.io/blog/tag/task-web.html">task-web</a>, <a href="https://visibilityspots.github.io/blog/tag/mirakel.html">mirakel</a>, <a href="https://visibilityspots.github.io/blog/tag/todo.html">todo</a>, </p>
                    </aside>
                    <hr/>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'visibilityspots';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
                </article>
            </li>
        </ol>
    </div>
        </div>

        <script src="https://visibilityspots.github.io/blog/theme/js/main.js"></script>
    </body>
</html>